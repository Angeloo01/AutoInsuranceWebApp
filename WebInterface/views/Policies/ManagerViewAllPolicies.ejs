<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Edited by Angelo Gonzales.">

  <title>View Policies</title>




  <!-- Bootstrap core CSS -->
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <style>
    tr.clickable-row {
      cursor: pointer;
    }
    
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    // source https://stackoverflow.com/questions/17147821/how-to-make-a-whole-row-in-a-table-clickable-as-a-link
    jQuery(document).ready(function ($) {
      $(".clickable-row").click(function () {
        window.location = $(this).data("href");
      });
    });
    
  </script>

</head>

<body class="text-center">
  
  <main class="container-lg">
    <div class="row">
      <h2 class="col-sm-8 h2 mb-3 mt-3 fw-bold" align="left">Policies</h2>
      <!-- <h2 class="col-sm-4 h2 mb-3 mt-3 fw-bold" align="right">Claims</h2> -->
      <div class="col-sm-4 mb-3 mt-3" align="right">
        <a class="btn btn-primary" href="/" role="button">Back</a>
      </div>
    </div>

    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Policy #</th>
          <th scope="col">Customer #</th>
          <th scope="col">Customer Name</th>
          <th scope="col">EffectiveDate</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody>
        <% for(const c of policies) {%>

        <tr class='clickable-row' data-href='/manager/policies/<%= c.PolicyNo %>'>
          <th scope="row"><%= c.PolicyNo %></th>
          <td><%= c.CustomerNo %></td>
          <td><%= c.FName %> <%= c.LName %></td>
          <td><%= c.EffectiveDate.split("T")[0] %></td>
          <td><%= c.Status %></td>
        </tr>

        <% } %>

      </tbody>
    </table>
  </main>

  



</body>

</html>